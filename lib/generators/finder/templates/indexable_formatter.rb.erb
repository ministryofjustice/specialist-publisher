require "formatters/abstract_specialist_document_indexable_formatter"

class <%= class_name %>IndexableFormatter < AbstractSpecialistDocumentIndexableFormatter
  def type
    "<%= name.underscore %>"
  end

private
  def extra_attributes
    {<% if options[:hidden_indexable_content] %>
      indexable_content: "#{entity.hidden_indexable_content}\n#{entity.body}".strip<% end %>,<% @rummager_attributes.sort.each do |attribute| %>
      <%= attribute %>: entity.<%= attribute %>,<% if @allowed_values.has_key?(attribute)%>
      <%= attribute %>_name: expand_value(:<%= attribute %>),<% end %><% end %>
    }
  end

  def organisation_slugs
    ["<%= options[:organisation_slug] %>"]
  end
end
